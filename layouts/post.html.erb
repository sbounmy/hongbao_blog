<%= render_layout "body" do %>
  <!-- Hero Image Section -->
  <% if current_page.data["image"] %>
    <div class="relative w-full h-[400px] md:h-[500px] -mt-20 mb-12">
      <%= image_tag current_page.data["image"],
          class: "absolute inset-0 w-full h-full object-cover",
          alt: current_page.data["title"] %>
      <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>

      <!-- Title Overlay -->
      <div class="absolute bottom-0 left-0 right-0 p-8 md:p-12 text-gray-100">
        <div class="max-w-4xl mx-auto">
          <h1 class="text-4xl md:text-5xl font-bold mb-4"><%= current_page.data["title"] %></h1>
          <div class="flex items-center text-sm md:text-base opacity-90">
            <% if current_page.data["date"] %>
              <time datetime="<%= current_page.data["date"] %>">
                <%= Date.parse(current_page.data["date"].to_s).strftime('%B %d, %Y') %>
              </time>
            <% end %>
            <% if current_page.data["author"] %>
              <span class="mx-2">•</span>
              <span><%= current_page.data["author"] %></span>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% else %>
    <!-- No Hero Image - Standard Layout -->
    <div class="max-w-4xl mx-auto px-4 pt-12 pb-8">
      <h1 class="text-4xl md:text-5xl font-bold mb-4"><%= current_page.data["title"] %></h1>
      <div class="flex items-center text-sm text-base-content/60">
        <% if current_page.data["date"] %>
          <time datetime="<%= current_page.data["date"] %>">
            <%= Date.parse(current_page.data["date"].to_s).strftime('%B %d, %Y') %>
          </time>
        <% end %>
        <% if current_page.data["author"] %>
          <span class="mx-2">•</span>
          <span><%= current_page.data["author"] %></span>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- Post Content -->
  <div class="max-w-4xl mx-auto px-4 pb-12">
    <div class="prose prose-lg max-w-none prose-headings:text-base-content prose-p:text-base-content/80 prose-strong:text-base-content prose-a:text-primary prose-blockquote:text-base-content/70">
      <%= yield %>

      <% if publish_at = date(current_page.data["publish_at"]) %>
        <hr class="my-8">
        <p class="text-sm text-base-content/60">This post was published <%= publish_at.to_s(:long_ordinal) %></p>
      <% end %>
    </div>
  </div>
<% end %>